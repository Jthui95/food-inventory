// create item ,expiration, view item js
$(document).ready(function(){async function a(a){await $.ajax({method:"DELETE",url:"/api/items/"+d}),window.location.href="view-"+a}async function b(a){alert("Changes Saved!"),await $.ajax({method:"PUT",url:"/api/items/",data:e}),window.location.href="view-"+a}let c,d,e,f=$("#storageName").text().toLowerCase();$(".delete").on("click",function(){d=$(this).attr("id"),"fridge"===f?a("fridge"):"pantry"===f?a("pantry"):"freezer"===f&&a("freezer")}),$(".update").on("click",function(){c=$(this).attr("id"),e={name:$(`#name${c}`).text().trim(),quantity:$(`#quantity${c}`).text().trim(),expiration:$(`#expiration${c}`).text().trim(),description:$(`#description${c}`).text().trim(),id:c},"fridge"===f?b("fridge"):"pantry"===f?b("pantry"):"freezer"===f&&b("freezer")})});$(document).ready(function(){function a(a){let b=Math.floor(Date.now()/1e3),c=Math.floor(Date.now()/1e3)+432000;$.get("/api/items/location/"+a,function(a){for(i=0;i<a.length;i++)new Date(a[i].expiration).getTime()/1e3<c&&new Date(a[i].expiration).getTime()/1e3>b?$(`#itemInfo${a[i].id}`).attr("style","background-color: yellow;"):new Date(a[i].expiration).getTime()/1e3<=b?$(`#itemInfo${a[i].id}`).attr("style","background-color: red;"):$(`#itemInfo${a[i].id}`).attr("style","background-color: beige;")})}let b=$("#storageName").text().toLowerCase();"fridge"===b?a("refrigerator"):"pantry"===b?a("pantry"):"freezer"===b&&a("freezer")});$(document).ready(function(){const a=$("#name-input"),b=$("#quantity-input"),c=$("#expiration-input"),d=$("#description-input"),e=$("#photo-input"),f=$("#storageDropdown");$("#submit").on("click",function(g){g.preventDefault(),itemData={name:a.val().trim(),quantity:b.val().trim(),expiration:c.val().trim(),description:d.val().trim(),location:f.val().trim(),photo:e.val().trim()},console.log(itemData),$.post("/api/items",itemData,function(){}),window.location.href="/"})});